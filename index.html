<!DOCTYPE html>
<!-- This is a very simple example of using Web WorldWind. -->
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>ISS Tracker</title>
        <!-- Include the Web WorldWind library. -->
        <script src="https://files.worldwind.arc.nasa.gov/artifactory/web/0.9.0/worldwind.min.js"
                type="text/javascript">
        </script>
        <style>
            #canvas {
                width: 90vw;
                height: 90vh;
            }
        </style>
    </head>
    <body>
        <div style="position: absolute;">
            <!-- Create a canvas for Web WorldWind. -->
            <canvas id="canvas">
                Your browser does not support HTML5 Canvas.
            </canvas>
        </div>
        <script>
            // Register an event listener to be called when the page is loaded.
            window.addEventListener("load", eventWindowLoaded, false);

            // Define the event listener to initialize Web WorldWind.
            function eventWindowLoaded() {
                // Create a WorldWindow for the canvas.
                var wwd = new WorldWind.WorldWindow("canvas");

                var layers = [
                    // Imagery layers.
                    {layer: new WorldWind.BMNGLayer(), enabled: true},
                    {layer: new WorldWind.BMNGLandsatLayer(), enabled: false},
                    {layer: new WorldWind.BingAerialLayer(null), enabled: false},
                    {layer: new WorldWind.BingAerialWithLabelsLayer(null), enabled: false},
                    {layer: new WorldWind.BingRoadsLayer(null), enabled: false},
                    {layer: new WorldWind.StarFieldLayer(), enabled: false},
                    // Add atmosphere layer on top of all base layers.
                    {layer: new WorldWind.AtmosphereLayer(), enabled: true},
                    // WorldWindow UI layers.
                    {layer: new WorldWind.CompassLayer(), enabled: true},
                    {layer: new WorldWind.CoordinatesDisplayLayer(wwd), enabled: true},
                    {layer: new WorldWind.ViewControlsLayer(wwd), enabled: true}
                ];

                for (let i = 0; i < layers.length; i++) {
                    layers[i].layer.enabled = layers[i].enabled;
                    wwd.addLayer(layers[i].layer);
                }

                // ISS 3D model
                var modelLayer = new WorldWind.RenderableLayer();
                wwd.addLayer(modelLayer);
                var position = new WorldWind.Position(20.0, -75.0, 800000.0);
                //var config = {dirPath: '/Nasa_Space_App/3D-model/'};
                var config = {dirPath: '/3D-model/'};
                var colladaLoader = new WorldWind.ColladaLoader(position, config);
                console.log(colladaLoader);
				colladaLoader.load("ISS-light.dae", function (colladaModel) {
				    colladaModel.scale = 140000;
				    modelLayer.addRenderable(colladaModel);
				});
            }
        </script>
    </body>
</html>
